<!DOCTYPE html>
<html lang="en">
<head>
  <!-- meta정보 -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
 
  <!-- 구글 폰트 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=BhuTuka+Expanded+One&family=Comfortaa:wght@600&family=Do+Hyeon&family=Gowun+Dodum&family=Hi+Melody&family=Nanum+Pen+Script&family=Noto+Sans+SC:wght@100;400&family=Oswald:wght@300&family=Permanent+Marker&family=Quintessential&family=Rowdies:wght@300;400&family=Sedgwick+Ave&family=Shadows+Into+Light&family=Source+Code+Pro:wght@200&family=Staatliches&family=Stylish&family=Sunflower:wght@300&family=ZCOOL+QingKe+HuangYou&display=swap" rel="stylesheet">
  
  <!-- 부트스트랩 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">    <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>

<title>간지나는 당신 곁엔,NearFetch</title>
</head>
<body>
    <!-- 헤더 -->
    <header include-html="/component/header.html"></header>

    <!-- 메인 -->
    <main>
        <div class="section myInfoList">
            <div class="infoBar"  include-html="/component/myInfoNav.html"></div>

            <div class="myInfo">
                <h3>장바구니</h3> 
                <div class="myInfoWrapper">
                    <h6>더욱 편리한 모던 럭셔리 쇼핑 경험을 위해 고객님의 개인 정보와 주문 내역이 안전하게 저장되었습니다.</h6>
                    <table class="addListTable">
                        <thead>
                            <tr>
                                <th scope="col"></th>
                                <th scope="col">상품 정보</th>
                                <th scope="col">옵션</th>
                                <th scope="col">수량</th>
                                <th scope="col">가격</th>
                            </tr>
                        </thead>
                        <tbody>
                          <!-- 장바구니 상품 리스트 -->
                        </tbody>
                    </table>

                    <div class="totalNBtn">
                        <div class="totalAmount">총 금액 : <span></span></div>
                        <button class="proceed">바로 구매</button>
                    </div>     
                </div>
            </div>    
        </div>  
    </main>

    <!-- 푸터 -->
     <footer include-html="/component/footer.html"></footer>
    
     <!-- 연결 css/js/jquery 파일 -->
    <link rel="stylesheet" href="/style.css">
    <script src="/common.js" defer></script>
    <script src="/commonJquery.js"></script>
    <script src="/women_products.json"></script>

    <script>


    
    // 상품 정보 불러오기
    function init(){
        fetch("http://172.20.10.6:8000/users/cart", {
            method: "GET",
            headers: {
                "Content-Type": "application/json",
                // Authorization: localStorage.getItem('login-token')
            },
        })
        .then((response) => response.json())
        .then((response) => {
            const addItemListWrapper=document.querySelector('.addListTable tbody');
            
            for(let k=0;k<response.result.length;k++){
                 const tr = document.createElement('tr');
                addItemListWrapper.appendChild(tr);
                const td = document.createElement('td');

                const tdClassList=['addImg','contents','itemOption','itemQt','price'];
                for(let i=0;i<tdClassList.length;i++){
                    const td = document.createElement('td');
                    tr.appendChild(td);
                    td.setAttribute("class",[tdClassList[i]]);
                }
                const imgWrapperDiv=document.querySelector("tbody tr .addImg");
                const imgTag=document.createElement("img");
                imgWrapperDiv.appendChild(imgTag);
                // const imgInner=document.querySelector(".addImg img")
                imgTag.src=response.result[k]["image"];
            // itemBrand.textContent=response.result[k].brand;
            // itemName.textContent=response.result[k].name;
            // itemQt.textContent=response.result[k].quantity;
            // itemOption.textContent=response.result[k].option;
            // price.textContent=response.result[k].price;
                
            }
           
            

            // const imgInner=document.querySelector(".addImg img")
            const contents=document.querySelector("tbody .contents");
            const itemOption=document.querySelector("tbody .itemOption");
            const price=document.querySelector("tbody .price");
            const itemQt=document.querySelector(".itemQt");
           
            for(let j=0;j<2;j++){
                const contentsClassList=['itemBrand','itemName']
                const contentsDiv=document.createElement('div');
                contents.appendChild(contentsDiv);
                contentsDiv.setAttribute("class",[contentsClassList[j]]);
            }

            const itemBrand=document.querySelector(".itemBrand");
            const itemName=document.querySelector(".itemName");

       




            // 장바구니에 있는 상품 노출(태그 완성)
            // const addItemListWrapper=document.querySelector('.addListTable tbody');
            // const tr = document.createElement('tr');
            // addItemListWrapper.appendChild(tr);

            // for(let i=0;i<5;i++){
            //     const tdClassList=['addImg','contents','itemOption','itemQt','price'];
            //     const td = document.createElement('td');
            //     tr.appendChild(td);
            //     td.setAttribute("class",[tdClassList[i]]);
            //     }
            
            // const imgWrapper=document.createElement("img")
            // const image=document.querySelector("tbody tr .addImg");
            // image.appendChild(imgWrapper);

            // const imgInner=document.querySelector(".addImg img")
            // const contents=document.querySelector("tbody .contents");
            // const itemOption=document.querySelector("tbody .itemOption");
            // const price=document.querySelector("tbody .price");
            // const itemQt=document.querySelector(".itemQt");
           
            // for(let j=0;j<2;j++){
            //     const contentsClassList=['itemBrand','itemName']
            //     const contentsDiv=document.createElement('div');
            //     contents.appendChild(contentsDiv);
            //     contentsDiv.setAttribute("class",[contentsClassList[j]]);
            // }

            // const itemBrand=document.querySelector(".itemBrand");
            // const itemName=document.querySelector(".itemName");


            // imgInner.src=response.result[0].image;
            // itemBrand.textContent=response.result[0].brand;
            // itemName.textContent=response.result[0].name;


            // itemQt.textContent=response.result[0].quantity;
            // itemOption.textContent=response.result[0].option;
            // price.textContent=response.result[0].price;
        }
        )}
    
 
    init()


  
    </script>

</body>
</html>